---
dependency:
  name: galaxy
  enabled: false

driver:
  name: docker

platforms:
  - name: ansible-role-elastalert2-debian-12
    image: debian:12
    command: /lib/systemd/systemd
    tmpfs:
      - /run
      - /run/lock
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:rw
    cgroupns_mode: host
    docker_host: "${DOCKER_HOST:-unix://var/run/docker.sock}"
    networks:
      - name: elastalert2-test-network
  - name: ansible-role-elastalert2-debian-13
    image: debian:13
    command: /lib/systemd/systemd
    tmpfs:
      - /run
      - /run/lock
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:rw
    cgroupns_mode: host
    docker_host: "${DOCKER_HOST:-unix://var/run/docker.sock}"
    networks:
      - name: elastalert2-test-network
  - name: ansible-role-elastalert2-ubuntu-2404
    image: ubuntu:24.04
    command: /lib/systemd/systemd
    tmpfs:
      - /run
      - /run/lock
    volumes:
      - /sys/fs/cgroup:/sys/fs/cgroup:rw
    cgroupns_mode: host
    docker_host: "${DOCKER_HOST:-unix://var/run/docker.sock}"
    networks:
      - name: elastalert2-test-network

provisioner:
  name: ansible

verifier:
  name: testinfra
